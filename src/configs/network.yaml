# ============================================
# Network Architecture Configuration
# ============================================
# This file defines the neural network architecture for both
# CLIP and Generation models. The embed-dim is shared between
# both models to ensure compatibility.
# ============================================


# ============================================
# Profile: Mac (32GB RAM, MPS GPU)
# Default profile for local development
# ============================================
default:
  # Shared embedding dimension (MUST be the same for CLIP and Generation)
  embed-dim: 512
  
  # CLIP Motion Encoder Architecture
  clip:
    motion-num-heads: 4
    motion-num-layers: 2
  
  # Generation Denoiser Architecture
  generation:
    num-heads: 8
    num-layers: 2
    num-spatial-layers: 1
    motion-channels: 3 # 6 | 3 
    rotation-repr: axis-angle # rot6d | axis-angle
    spatiotemporal-mode: factorized #flat | factorized
    num-bones: 22
    diffusion-steps: 1000

# ============================================
# Profile: DGX Spark (128GB RAM, GB10 GPU)
# Use with: --profile spark
# ============================================
spark:
  embed-dim: 512
  
  clip:
    motion-num-heads: 8
    motion-num-layers: 4

  generation:
    num-heads: 8
    num-layers: 8
    num-spatial-layers: 1
    motion-channels: 6
    rotation-repr: rot6d
    spatiotemporal-mode: flat
    num-bones: 22
    diffusion-steps: 500
